{"ast":null,"code":"import * as shp3 from \"../../../assets/shapedata/Shapefile3.json\";\nimport * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nexport let OsmMapComponent = /*#__PURE__*/(() => {\n  class OsmMapComponent {\n    constructor() {\n      this.markers = [];\n      this.popupText = \"Some popup text\";\n      this.markerIcon = {\n        icon: L.icon({\n          iconSize: [25, 41],\n          iconAnchor: [10, 41],\n          popupAnchor: [2, -40],\n          // specify the path here\n          iconUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-icon.png\",\n          shadowUrl: \"https://unpkg.com/leaflet@1.4.0/dist/images/marker-shadow.png\"\n        })\n      };\n    }\n\n    initMap() {\n      this.map = L.map('map', {\n        center: [51.04962, 12.1369],\n        zoom: 10\n      });\n      const tiles = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 18,\n        minZoom: 3,\n        attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n      });\n      tiles.addTo(this.map);\n    }\n\n    addLayer() {\n      var jsonString = JSON.stringify(shp3);\n      var jsonOBJ = JSON.parse(jsonString);\n      this.geojsonLayer = new L.GeoJSON(jsonOBJ);\n      this.geojsonLayer.addTo(this.map);\n      this.geojsonLayer.on('click', function (e) {\n        console.log(e.layer);\n\n        if (e.layer.selected) {\n          e.layer.selected = false;\n        } else {\n          e.layer.selected = true;\n        }\n      });\n      /*this.geojsonLayer.on(\"click\", e => {\n       \n        this.map.zoomIn();\n             console.log(this.geojsonLayer);\n       \n        \n         \n      });*/\n    }\n\n    addMarker() {\n      const newMarker = L.marker([51.04962, 12.1369], this.markerIcon);\n      this.markers.push(newMarker);\n      newMarker.addTo(this.map);\n    }\n\n    ngAfterViewInit() {\n      this.initMap();\n      console.log(\"first\" + this.map);\n      /*   this.map.on(\"click\", e => {\n           this.map.zoomIn();\n           this.map.panTo([e.latlng.lat, e.latlng.lng]);\n         });*/\n    }\n\n  }\n\n  OsmMapComponent.ɵfac = function OsmMapComponent_Factory(t) {\n    return new (t || OsmMapComponent)();\n  };\n\n  OsmMapComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OsmMapComponent,\n    selectors: [[\"app-osm-map\"]],\n    decls: 13,\n    vars: 0,\n    consts: [[1, \"row\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-header\"], [3, \"click\"], [1, \"map-container\"], [1, \"map-frame\"], [\"id\", \"map\"]],\n    template: function OsmMapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵtext(4, \" Analyse \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function OsmMapComponent_Template_button_click_6_listener() {\n          return ctx.addMarker();\n        });\n        i0.ɵɵtext(7, \" Test \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function OsmMapComponent_Template_button_click_8_listener() {\n          return ctx.addLayer();\n        });\n        i0.ɵɵtext(9, \" Test2 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 5)(11, \"div\", 6);\n        i0.ɵɵelement(12, \"div\", 7);\n        i0.ɵɵelementEnd()()()();\n      }\n    },\n    styles: [\"h1[_ngcontent-%COMP%]{color:red}.card[_ngcontent-%COMP%]{height:1000px}.map-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;height:400px;width:1000px;margin:60px}.map-frame[_ngcontent-%COMP%]{border:2px solid white;height:100%}#map[_ngcontent-%COMP%]{height:100%}\"]\n  });\n  return OsmMapComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}